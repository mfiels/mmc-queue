<!doctype html>
<html>
  <head>
    <script src="simulation.js"></script>
    <script src="server.js"></script>
    <script src="queue.js"></script>
    <script src="customer.js"></script>
    <script src="event.js"></script>
    <script src="pubsub.js"></script>
  </head>
  <body>
    <script>
      var uniformRng = {
        next: function() {
          return Math.random();
        }
      };

      on('queueSizeChanged', function(e) {
        console.log('queue size changed to ' + e.size + ' at time ' + e.time);
      });

      on('customerArrival', function(e) {
        console.log('customer arrived at ' + e.time);
      });

      on('customerDeparture', function(e) {
        console.log('customer departed at ' + e.time);
      });

      on('numInSystemChanged', function(e) {
        console.log('num in system changed to ' + e.num + ' at time ' + e.time);
      });

      var simulation = new Simulation(uniformRng, uniformRng, 2);
      simulation.simulate(function(simulation) {
        return simulation.clock > 100.0;
      });
    </script>
  </body>
</html>